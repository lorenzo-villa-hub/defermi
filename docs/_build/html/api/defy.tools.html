<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html">

    <!-- Generated with Sphinx 8.1.3 and Furo 2025.09.25 -->
        <title>defy.tools package - defy 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">defy 1.0.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <span class="sidebar-brand-text">defy 1.0.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  
</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/api/defy.tools.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="defy-tools-package">
<h1>defy.tools package<a class="headerlink" href="#defy-tools-package" title="Link to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="defy.tools.tests.html">defy.tools.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="defy.tools.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="defy.tools.tests.html#module-defy.tools.tests.test_materials_project">defy.tools.tests.test_materials_project module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="defy.tools.tests.html#defy.tools.tests.test_materials_project.TestMPDatabase"><code class="docutils literal notranslate"><span class="pre">TestMPDatabase</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="defy.tools.tests.html#defy.tools.tests.test_materials_project.TestMPDatabase.setUp"><code class="docutils literal notranslate"><span class="pre">TestMPDatabase.setUp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="defy.tools.tests.html#defy.tools.tests.test_materials_project.TestMPDatabase.test_get_entries"><code class="docutils literal notranslate"><span class="pre">TestMPDatabase.test_get_entries()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="defy.tools.tests.html#defy.tools.tests.test_materials_project.TestMPDatabase.test_get_structure"><code class="docutils literal notranslate"><span class="pre">TestMPDatabase.test_get_structure()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="defy.tools.tests.html#module-defy.tools.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-defy.tools.materials_project">
<span id="defy-tools-materials-project-module"></span><h2>defy.tools.materials_project module<a class="headerlink" href="#module-defy.tools.materials_project" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="defy.tools.materials_project.MPDatabase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">defy.tools.materials_project.</span></span><span class="sig-name descname"><span class="pre">MPDatabase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mp_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">API_KEY</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/materials_project.html#MPDatabase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.materials_project.MPDatabase" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="defy.tools.materials_project.MPDatabase.get_entries">
<span class="sig-name descname"><span class="pre">get_entries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chemsys_formula_mpids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compatible_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conventional_unit_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_by_e_above_hull</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/materials_project.html#MPDatabase.get_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.materials_project.MPDatabase.get_entries" title="Link to this definition">¶</a></dt>
<dd><p>Get a list of ComputedEntries or ComputedStructureEntries corresponding
to a chemical system, formula, or materials_id or full criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>str/dict</strong><strong>)</strong> (<em>chemsys_formula_id_criteria</em>) – (e.g., Li-Fe-O), or formula (e.g., Fe2O3) or materials_id
(e.g., mp-1234) or full Mongo-style dict criteria.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>conventional_unit_cell</em>) – entries. Compatible entries are entries that have been
processed using the MaterialsProject2020Compatibility class,
which performs adjustments to allow mixing of GGA and GGA+U
calculations for more accurate phase diagrams and reaction
energies.</p></li>
<li><p><strong>(</strong><strong>list</strong><strong>)</strong> (<em>property_data</em>) – entry.data. If None, no data. Should be a subset of
supported_properties.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> – conventional unit cell.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of ComputedEntry or ComputedStructureEntry objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="defy.tools.materials_project.MPDatabase.get_entries_from_compositions">
<span class="sig-name descname"><span class="pre">get_entries_from_compositions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compositions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compatible_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conventional_unit_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/materials_project.html#MPDatabase.get_entries_from_compositions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.materials_project.MPDatabase.get_entries_from_compositions" title="Link to this definition">¶</a></dt>
<dd><p>Get a dictionary with compositions (strings) as keys and a list of ComputedEntries
or ComputedStructureEntries as values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>list</strong><strong>)</strong> (<em>property_data</em>)</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>conventional_unit_cell</em>)</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> – Whether to return only “compatible”
entries. Compatible entries are entries that have been
processed using the MaterialsProject2020Compatibility class,
which performs adjustments to allow mixing of GGA and GGA+U
calculations for more accurate phase diagrams and reaction
energies.</p></li>
<li><p><strong>(</strong><strong>list</strong><strong>)</strong> – Specify additional properties to include in
entry.data. If None, no data. Should be a subset of
supported_properties.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> – Whether to get the standard conventional unit cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of ComputedEntry or ComputedStructureEntry objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="defy.tools.materials_project.MPDatabase.get_structure">
<span class="sig-name descname"><span class="pre">get_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">final</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conventional_unit_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/materials_project.html#MPDatabase.get_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.materials_project.MPDatabase.get_structure" title="Link to this definition">¶</a></dt>
<dd><p>Get a Structure corresponding to a material_id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>(</strong><strong>str</strong><strong>)</strong> (<em>material_id</em>) – e.g., mp-1234).</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> (<em>conventional_unit_cell</em>) – (pre-relaxation) structure. Defaults to True.</p></li>
<li><p><strong>(</strong><strong>bool</strong><strong>)</strong> – conventional unit cell</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="defy.tools.materials_project.MPDatabase.mp_rester">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mp_rester</span></span><a class="headerlink" href="#defy.tools.materials_project.MPDatabase.mp_rester" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-defy.tools.structure">
<span id="defy-tools-structure-module"></span><h2>defy.tools.structure module<a class="headerlink" href="#module-defy.tools.structure" title="Link to this heading">¶</a></h2>
<p>Created on Fri Nov 27 10:52:08 2020</p>
<p>&#64;author: villa</p>
<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.deform_lattice">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">deform_lattice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.03</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#deform_lattice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.deform_lattice" title="Link to this definition">¶</a></dt>
<dd><p>Deform lattice vectors in structure. Also changes the angles of lattice vectors (off diagonal components).
The function “apply_strain” from the Structure class only changes the base vectors’ size but not the angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Structure object.</p></li>
<li><p><strong>stdev</strong> (<em>float</em>) – Standard deviation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Structure with deformed lattice.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(Structure)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.get_WarrenCowley_order_parameter">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">get_WarrenCowley_order_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A_symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_symbols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighbors_cutoff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#get_WarrenCowley_order_parameter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.get_WarrenCowley_order_parameter" title="Link to this definition">¶</a></dt>
<dd><p>Compute Warren Cowley order parameter to describe mixing tendencies in alloys</p>
<dl class="simple">
<dt>The WC order parameter is computed as:</dt><dd><p>alpha_{A-X} = 1 - &lt; P_{A-X} &gt; / C_X</p>
</dd>
</dl>
<p>where:
- &lt;P_{A-X}&gt; is the avg probability of finding X near A, computed as:</p>
<blockquote>
<div><p>&lt;P_{A-X}&gt; = n_X / n_total , n = number of nighbors of A
C_X = concentration of X in structure</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Pymatgen Structure</p></li>
<li><p><strong>A_symbols</strong> (<em>(</em><em>list</em><em>)</em>) – List of element symbols to consider for A-site</p></li>
<li><p><strong>X_symbols</strong> (<em>(</em><em>list</em><em>)</em>) – List of element symbols to consider for X-site</p></li>
<li><p><strong>neighbors_cutoff</strong> (<em>(</em><em>float</em><em>)</em>) – Distance cutoff for neighbors counting</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>alpha</strong> – Warren-Cowley order parameter</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.get_displacement_vectors">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">get_displacement_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#get_displacement_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.get_displacement_vectors" title="Link to this definition">¶</a></dt>
<dd><p>Get vectors in cartesian coords of site displacements w.r.t. the first structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>structures</strong> – list of Pymatgen Structure objects.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displacement vectors in cartesian coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(numpy ndarray)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.get_distance_vector">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">get_distance_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jimage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#get_distance_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.get_distance_vector" title="Link to this definition">¶</a></dt>
<dd><p>Get distance vector between two sites assuming periodic boundary conditions.
Same as pymatgen.core.sites.Site.distance but returns a vector instead of norm.
:param other: Other site to get distance from.
:type other: PeriodicSite
:type jimage: 
:param jimage: Specific periodic image in terms of lattice</p>
<blockquote>
<div><p>translations, e.g., [1,0,0] implies to take periodic image
that is one a-lattice vector away. If jimage is None,
the image that is nearest to the site is found.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Distance between the two sites</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>distance (float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.get_furthest_neighbors">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">get_furthest_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#get_furthest_neighbors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.get_furthest_neighbors" title="Link to this definition">¶</a></dt>
<dd><p>Get the indexes of atomic sites that are furthest away from the target site
and maximally spaced apart from each other, considering periodic boundary conditions.</p>
<p>Parameters:
- structure: pymatgen Structure object
- target_site: a pymatgen PeriodicSite or index of the target site in the structure
- species: list of species to find (ordered as given)</p>
<p>Returns:
- List of indices corresponding to the furthest sites of the given species</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.is_site_in_structure">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">is_site_in_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#is_site_in_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.is_site_in_structure" title="Link to this definition">¶</a></dt>
<dd><p>Check if Site is part of the Structure list. This function is needed because
sometimes doing a simple check (“site in structure”) doesn’t work. This function performes
a check on the coordinates and the element on the site. Therefore it is more reliable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site</strong> (<em>(</em><em>Site</em><em>)</em>) – PeriodicSite or Site object.</p></li>
<li><p><strong>structure</strong> (<em>(</em><em>Structure</em><em>)</em>) – Pymatgen Structure object.</p></li>
<li><p><strong>tol</strong> (<em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – Tolerance for fractional coordinates. The default is 1e-03.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>is_site_in_structure</strong> (<em>(bool)</em>)</p></li>
<li><p><strong>index</strong> (<em>(int)</em>) – Index of site in structure in case site is_site_in_structure returns True
If False index will be None.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.is_site_in_structure_coords">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">is_site_in_structure_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#is_site_in_structure_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.is_site_in_structure_coords" title="Link to this definition">¶</a></dt>
<dd><p>Check if a site’s coordinates are present in a structure, using periodic boundary conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>site</strong> (<em>(</em><em>Site</em><em>)</em>) – PeriodicSite or Site object.</p></li>
<li><p><strong>structure</strong> (<em>(</em><em>Structure</em><em>)</em>) – Pymatgen Structure object.</p></li>
<li><p><strong>tol</strong> (<em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – Tolerance for site comparison, normalized with respect to lattice size.
Default is 1e-03.</p></li>
<li><p><strong>return_distance</strong> (<em>(</em><em>bool</em><em>)</em>) – Return distance btw site coords and closest site in reference structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>is_site_in_structure_coords</strong> (<em>(bool)</em>) – Whether the site exists in the structure within tolerance.</p></li>
<li><p><strong>index</strong> (<em>(int or None)</em>) – Index of matching site in structure if found, otherwise None.</p></li>
<li><p><strong>distance</strong> (<em>(float)</em>) – Returned if return_distance is set to True.
distance btw site coords and closest site in reference structure.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.rattle_atoms">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">rattle_atoms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#rattle_atoms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.rattle_atoms" title="Link to this definition">¶</a></dt>
<dd><p>Change randomly atomic positions. Uses the ASE.
Similar to the method “perturb” from the Structure class
:type structure: 
:param structure: Structure object
:type stdev: 
:param stdev: Standard deviation
:type stdev: float
:type seed: 
:param seed: Seed for random number generation passed to the Atoms.rattle method.
:type seed: int</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.remove_oxidation_state_from_site">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">remove_oxidation_state_from_site</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#remove_oxidation_state_from_site"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.remove_oxidation_state_from_site" title="Link to this definition">¶</a></dt>
<dd><p>Remove oxidation state decoration from site.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.sort_sites_to_ref_coords">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">sort_sites_to_ref_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_ref</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_sites</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_indexes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#sort_sites_to_ref_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.sort_sites_to_ref_coords" title="Link to this definition">¶</a></dt>
<dd><p>Sort Sites of one structure to match the order of coordinates in a reference structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>(</em><em>Structure</em><em>)</em>) – Structure to sort.</p></li>
<li><p><strong>structure_ref</strong> (<em>(</em><em>Structure</em><em>)</em>) – Reference Structure.</p></li>
<li><p><strong>extra_sites</strong> (<em>(</em><em>list</em><em>)</em><em>, </em><em>optional</em>) – Sites to append at the end of the structure. The default is [].</p></li>
<li><p><strong>tol</strong> (<em>(</em><em>float</em><em>)</em>) – Tolerance for site comparison. The distance between sites in target and reference stucture is used,
periodicity is accounted for. The tolerance is normalized with respect to lattice vector size.
The default is 1e-03.</p></li>
<li><p><strong>get_indexes</strong> (<em>(</em><em>bool</em><em>)</em><em>, </em><em>optional</em>) – Get list of mapping indexes for target structure sites in reference structure. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>new_structure</strong> (<em>(Structure)</em>) – Sorted Structure</p></li>
<li><p><strong>indexes</strong> (<em>(list)</em>) – If get_indexes is True a tuple is returned. List of mapping indexes for target structure sites
in reference structure.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.view_structures_with_ase">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">view_structures_with_ase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#view_structures_with_ase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.view_structures_with_ase" title="Link to this definition">¶</a></dt>
<dd><p>Visualize a Structure object or a list of Structure objects with the ASE.
First the Structure objects are converted into an ase Atom object, then “view” is used to visualize them.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.write_extxyz_file">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">write_extxyz_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structure_ref</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">displacements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#write_extxyz_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.write_extxyz_file" title="Link to this definition">¶</a></dt>
<dd><p>Write extxyz format. Displacements can be included for visualization in OVITO.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>(</em><em>str</em><em>)</em>) – Path to save extxyz file to.</p></li>
<li><p><strong>structure</strong> (<em>(</em><em>Structure</em><em>)</em>) – Structure to visualize.</p></li>
<li><p><strong>structure_ref</strong> (<em>(</em><em>Structure</em><em>)</em>) – Reference Structure if needed. The default is None.</p></li>
<li><p><strong>displacements</strong> (<em>(</em><em>bool</em><em>)</em>) – Include displacement vectors. The default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.structure.write_xdatcar_from_structures">
<span class="sig-prename descclassname"><span class="pre">defy.tools.structure.</span></span><span class="sig-name descname"><span class="pre">write_xdatcar_from_structures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'XDATCAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/structure.html#write_xdatcar_from_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.structure.write_xdatcar_from_structures" title="Link to this definition">¶</a></dt>
<dd><p>Write XDATCAR file from a list of structures. The first structure determines the reference for the Trajectory object.</p>
</dd></dl>

</section>
<section id="module-defy.tools.utils">
<span id="defy-tools-utils-module"></span><h2>defy.tools.utils module<a class="headerlink" href="#module-defy.tools.utils" title="Link to this heading">¶</a></h2>
<p>Created on Mon Oct 12 15:40:26 2020</p>
<p>&#64;author: villa</p>
<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.convert_conc_from_weight_to_cm3">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">convert_conc_from_weight_to_cm3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c_weight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_el</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">composition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bulk_structure</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#convert_conc_from_weight_to_cm3"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.convert_conc_from_weight_to_cm3" title="Link to this definition">¶</a></dt>
<dd><p>Convert concentration of dopand from weight % (common experimental data) to cm^-3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_weight</strong> (<em>(</em><em>float</em><em>)</em>) – Defect concentration in weight %.</p></li>
<li><p><strong>target_el</strong> (<em>(</em><em>str</em><em>)</em>) – Symbol of target element.</p></li>
<li><p><strong>composition</strong> (<em>(</em><em>Composition</em><em>)</em>) – Composition (Pymatgen) of the material, uses only list of elements.</p></li>
<li><p><strong>bulk_structure</strong> (<em>(</em><em>Structure</em><em>)</em>) – Structure (Pymatgen) of bulk, needed for lattice volume.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>conc</strong> – Concentration in cm-3^.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.format_composition">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">format_composition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all_math</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#format_composition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.format_composition" title="Link to this definition">¶</a></dt>
<dd><p>Format composition with latex syntax.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.get_charge_from_computed_entry">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">get_charge_from_computed_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#get_charge_from_computed_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.get_charge_from_computed_entry" title="Link to this definition">¶</a></dt>
<dd><p>Get charge of vasp calculation from ComputedEntry object.
Subtracts the total valence electrons from potcar to ‘NELECT’ value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.get_object_feature">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">get_object_feature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#get_object_feature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.get_object_feature" title="Link to this definition">¶</a></dt>
<dd><p>Get value of attribute or method of a generic Object.
If feature is a single method only the string with the method’s name is required.
If the target feature is stored in a dictionary (or dict of dictionaries), a list of this format needs to be provided:</p>
<blockquote>
<div><p>[“method_name”,key1,key2,…] - This will identify the value of Object.method[key1][key2][…] .</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>(</em><em>object</em><em>)</em>) – Generic object.</p></li>
<li><p><strong>feature</strong> (<em>(</em><em>str</em><em> or </em><em>list</em><em>)</em>) – Method or attribute of class for which the value is needed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.get_object_from_json">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">get_object_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_or_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#get_object_from_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.get_object_from_json" title="Link to this definition">¶</a></dt>
<dd><p>Build class object from json file or string. The class must posses the ‘from_dict’ method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object_class</strong> (<em>(</em><em>class</em><em>)</em>) – Class of the object to decoder.</p></li>
<li><p><strong>path_or_string</strong> (<em>(</em><em>str</em><em>)</em>) – If an existing path to a file is given the object is constructed reading the json file.
Otherwise it will be read as a string.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Decoded object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.save_object_as_json">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">save_object_as_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sanitize=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls=&lt;class</span> <span class="pre">'monty.json.MontyEncoder'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#save_object_as_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.save_object_as_json" title="Link to this definition">¶</a></dt>
<dd><p>Save class object as json string or file. The class must posses the ‘as_dict’ method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object</strong> (<em>object</em><em> of </em><em>a class</em>)</p></li>
<li><p><strong>path</strong> (<em>(</em><em>str</em><em>)</em>) – Path to the destination file.  If None a string is exported.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>d</strong> – If path is not set a string is returned.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(str)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.select_objects">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">select_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'and'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">functions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#select_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.select_objects" title="Link to this definition">¶</a></dt>
<dd><p>Filter objects based on different criteria. Returns a list of objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objects</strong> (<em>(</em><em>list</em><em>)</em>) – List of objects.</p></li>
<li><p><strong>mode</strong> (<em>(</em><em>str</em><em>)</em><em>, </em><em>optional</em>) – Filtering mode, possibilities are: ‘and’ and ‘or’. The default is ‘and’.</p></li>
<li><p><strong>exclude</strong> (<em>(</em><em>bool</em><em>)</em><em>, </em><em>optional</em>) – Exclude the entries satisfying the criteria instead of selecting them. The default is False.</p></li>
<li><p><strong>functions</strong> (<em>(</em><em>list</em><em>)</em><em>, </em><em>optional</em>) – Functions containing criteria. The functions must take the object as the argument and
return a bool.</p></li>
<li><p><strong>**kwargs</strong> (<em>(</em><em>dict</em><em>)</em>) – Keys are methods/attributes the objects have. Values contain the criteria.
To address more than one condition relative to the same attribute,
use lists or tuples (e.g. charge=[0,1]).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>output_objects</strong> – List with selected objects.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="defy.tools.utils.sort_objects">
<span class="sig-prename descclassname"><span class="pre">defy.tools.utils.</span></span><span class="sig-name descname"><span class="pre">sort_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/defy/tools/utils.html#sort_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#defy.tools.utils.sort_objects" title="Link to this definition">¶</a></dt>
<dd><p>Sort objects based on a list of features (attributes or methods of the objects, or functions)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objects</strong> (<em>(</em><em>list</em><em>)</em>) – List of objects to sort.</p></li>
<li><p><strong>features</strong> (<em>(</em><em>list</em><em>)</em>) – List of features (see get_object_feature).</p></li>
<li><p><strong>reverse</strong> (<em>(</em><em>bool</em><em>)</em>) – Reverse order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sorted objects.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(list)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-defy.tools">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-defy.tools" title="Link to this heading">¶</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">defy.tools package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-defy.tools.materials_project">defy.tools.materials_project module</a><ul>
<li><a class="reference internal" href="#defy.tools.materials_project.MPDatabase"><code class="docutils literal notranslate"><span class="pre">MPDatabase</span></code></a><ul>
<li><a class="reference internal" href="#defy.tools.materials_project.MPDatabase.get_entries"><code class="docutils literal notranslate"><span class="pre">MPDatabase.get_entries()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.materials_project.MPDatabase.get_entries_from_compositions"><code class="docutils literal notranslate"><span class="pre">MPDatabase.get_entries_from_compositions()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.materials_project.MPDatabase.get_structure"><code class="docutils literal notranslate"><span class="pre">MPDatabase.get_structure()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.materials_project.MPDatabase.mp_rester"><code class="docutils literal notranslate"><span class="pre">MPDatabase.mp_rester</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-defy.tools.structure">defy.tools.structure module</a><ul>
<li><a class="reference internal" href="#defy.tools.structure.deform_lattice"><code class="docutils literal notranslate"><span class="pre">deform_lattice()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.get_WarrenCowley_order_parameter"><code class="docutils literal notranslate"><span class="pre">get_WarrenCowley_order_parameter()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.get_displacement_vectors"><code class="docutils literal notranslate"><span class="pre">get_displacement_vectors()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.get_distance_vector"><code class="docutils literal notranslate"><span class="pre">get_distance_vector()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.get_furthest_neighbors"><code class="docutils literal notranslate"><span class="pre">get_furthest_neighbors()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.is_site_in_structure"><code class="docutils literal notranslate"><span class="pre">is_site_in_structure()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.is_site_in_structure_coords"><code class="docutils literal notranslate"><span class="pre">is_site_in_structure_coords()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.rattle_atoms"><code class="docutils literal notranslate"><span class="pre">rattle_atoms()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.remove_oxidation_state_from_site"><code class="docutils literal notranslate"><span class="pre">remove_oxidation_state_from_site()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.sort_sites_to_ref_coords"><code class="docutils literal notranslate"><span class="pre">sort_sites_to_ref_coords()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.view_structures_with_ase"><code class="docutils literal notranslate"><span class="pre">view_structures_with_ase()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.write_extxyz_file"><code class="docutils literal notranslate"><span class="pre">write_extxyz_file()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.structure.write_xdatcar_from_structures"><code class="docutils literal notranslate"><span class="pre">write_xdatcar_from_structures()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-defy.tools.utils">defy.tools.utils module</a><ul>
<li><a class="reference internal" href="#defy.tools.utils.convert_conc_from_weight_to_cm3"><code class="docutils literal notranslate"><span class="pre">convert_conc_from_weight_to_cm3()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.format_composition"><code class="docutils literal notranslate"><span class="pre">format_composition()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.get_charge_from_computed_entry"><code class="docutils literal notranslate"><span class="pre">get_charge_from_computed_entry()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.get_object_feature"><code class="docutils literal notranslate"><span class="pre">get_object_feature()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.get_object_from_json"><code class="docutils literal notranslate"><span class="pre">get_object_from_json()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.save_object_as_json"><code class="docutils literal notranslate"><span class="pre">save_object_as_json()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.select_objects"><code class="docutils literal notranslate"><span class="pre">select_objects()</span></code></a></li>
<li><a class="reference internal" href="#defy.tools.utils.sort_objects"><code class="docutils literal notranslate"><span class="pre">sort_objects()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-defy.tools">Module contents</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8d563738"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>